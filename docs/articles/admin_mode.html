<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Mode • maplandscape</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Admin Mode">
<meta property="og:description" content="maplandscape">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">maplandscape</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/add_columns.html">Add Columns</a>
    </li>
    <li>
      <a href="../articles/admin_mode.html">Admin Mode</a>
    </li>
    <li>
      <a href="../articles/charts.html">Charts</a>
    </li>
    <li>
      <a href="../articles/deploy_google_cloud.html">Deploy: Google Cloud</a>
    </li>
    <li>
      <a href="../articles/exploring-cropping-systems.html">Exploring Cropping Systems</a>
    </li>
    <li>
      <a href="../articles/filter_rows.html">Filter Rows</a>
    </li>
    <li>
      <a href="../articles/group_by_summarise.html">Summary Tables</a>
    </li>
    <li>
      <a href="../articles/oauth.html">OAuth2.0 setup</a>
    </li>
    <li>
      <a href="../articles/spatial_join.html">Combine Spatial Layers</a>
    </li>
    <li>
      <a href="../articles/web_mapping.html">Web Mapping</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/livelihoods-and-landscapes/maplandscape/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="admin_mode_files/header-attrs-2.11/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Admin Mode</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/livelihoods-and-landscapes/maplandscape/blob/master/vignettes/admin_mode.Rmd"><code>vignettes/admin_mode.Rmd</code></a></small>
      <div class="hidden name"><code>admin_mode.Rmd</code></div>

    </div>

    
    
<p>The <em>Admin</em> tab provides tools for data cleaning and editing data in GeoPackage layers. You can use the <em>Admin mode</em> to edit the geometries of features using a map interface or edit attribute records using an editable data table.</p>
<div id="load-data" class="section level2">
<h2 class="hasAnchor">
<a href="#load-data" class="anchor"></a>Load Data</h2>
<p>You can load GeoPackages into the <em>Admin</em> tab through the <em>Upload local data</em> file input (uploading local GeoPackages) or, if you are signed in with your Google identity, loading a file from your Google Cloud storage - click the <em>Download GCS object</em> button to load GeoPackage from Google Cloud Storage into the app in admin mode.</p>
<p><img src="admin-mode-ui.jpg" width="100%" height="auto" style="display: block; margin-left: auto; margin-right: auto; padding: 5px; border: thin silver solid;"></p>
</div>
<div id="editing-options" class="section level2">
<h2 class="hasAnchor">
<a href="#editing-options" class="anchor"></a>Editing Options</h2>
<p>Use the <em>Select layer to edit</em> dropdown list to select the layer in the GeoPackage that you’d like to edit. If the layer is spatial you will be able to edit in the map interface (i.e. adjust the feature’s geometry) or in the table interface (i.e. edit feature attribute values)</p>
<p><img src="admin-mode-1.png" width="50%" height="auto" style="display: block; margin-left: auto; margin-right: auto; padding: 5px; border: thin silver solid;"></p>
<div id="edit-shapes" class="section level3">
<h3 class="hasAnchor">
<a href="#edit-shapes" class="anchor"></a>Edit Shapes</h3>
<p>To edit a feature’s geometry make sure the layer selected is spatial. Then click on the feature you wish to edit in the map. This will bring up a popup map zoomed in on the feature. Click on the edit icon to edit a feature’s geometry (either move vertices or move the shape). Click on the delete icon to delete the feature.</p>
<p><img src="admin-mode-edit-map.png" width="100%" height="auto" style="display: block; margin-left: auto; margin-right: auto; padding: 5px; border: thin silver solid;"></p>
<p>If you have selected a non-spatial layer you will get a warning around the <em>Select layer to edit</em> dropdown list.</p>
<p><img src="admin-mode-5.png" width="50%" height="auto" style="display: block; margin-left: auto; margin-right: auto; padding: 5px; border: thin silver solid;"></p>
</div>
<div id="edit-tables" class="section level3">
<h3 class="hasAnchor">
<a href="#edit-tables" class="anchor"></a>Edit Tables</h3>
<p>Clicking on the <em>Table</em> tab will render the active layer in an editable data table. You can click on a cell and enter or edit values. The app will check that the value you enter can be converted to the column type before applying the edit.</p>
<p><img src="admin-mode-6.jpg" width="100%" height="auto" style="display: block; margin-left: auto; margin-right: auto; padding: 5px; border: thin silver solid;"></p>
<p>You can select one or more rows and delete them. To delete rows you need to specify an ID column (or ID suffix pattern common across ID columns in all layers in the GeoPackage - e.g. <code>_id</code>). This allows associated records for the deleted row to also be dropped from other tables in the GeoPackage.</p>
<p>As you edit and delete rows in GeoPackage layers, these edits are applied to a temporary copy of the layer in-memory. To apply these edits or deletes back to the GeoPackage file loaded into the app instance click either <em>save edits</em> or <em>delete records</em>.</p>
<p><img src="delete-rows.jpg" width="100%" height="auto" style="display: block; margin-left: auto; margin-right: auto; padding: 5px; border: thin silver solid;"></p>
</div>
</div>
<div id="save-edits" class="section level2">
<h2 class="hasAnchor">
<a href="#save-edits" class="anchor"></a>Save Edits</h2>
<p>To download a copy of your edited GeoPackage click <em>download edits</em>. This will download the edited GeoPackae and a log of edits applied to a .zip file.</p>
<p>If you are signed in with Google, you will see a <em>Sync edits to Google Cloud Storage</em> section in the sidebar (the Google login button is under the <em>Data</em> tab). You can enter the URI for an API where you can POST your edits to which can handle your edited GeoPackage (e.g. update your Google Cloud Storage with latest version of the GeoPackage with edits applied or data cleaned). An example of an app that can handle POSTing edited GeoPackages in maplandscape and store the edited or cleaned GeoPackage is <a href="https://github.com/livelihoods-and-landscapes/syncmaplandscape">here</a>: a <a href="https://fastapi.tiangolo.com">FastAPI</a> app which creates backup of GeoPackages in Google Cloud Storage before saving the edited data.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by John Duncan, Kevin Davies.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
