<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shiny application to explore and visualise GeoPackage data • maplandscape</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Shiny application to explore and visualise GeoPackage data">
<meta property="og:description" content="A Shiny application to explore, visualise, and 
    edit geospatial data stored in GeoPackeges in interactive 
    tables, web maps, and charts. Either deploy and use a pre-built 
    application or incorporate these functions in a custom Shiny app.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">maplandscape</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/add_columns.html">Add Columns</a>
    </li>
    <li>
      <a href="articles/admin_mode.html">Admin Mode</a>
    </li>
    <li>
      <a href="articles/charts.html">Charts</a>
    </li>
    <li>
      <a href="articles/deploy_google_cloud.html">Deploy: Google Cloud</a>
    </li>
    <li>
      <a href="articles/filter_rows.html">Filter Rows</a>
    </li>
    <li>
      <a href="articles/group_by_summarise.html">Summary Tables</a>
    </li>
    <li>
      <a href="articles/oauth.html">OAuth2.0 setup</a>
    </li>
    <li>
      <a href="articles/spatial_join.html">Combine Spatial Layers</a>
    </li>
    <li>
      <a href="articles/web_mapping.html">Web Mapping</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/livelihoods-and-landscapes/maplandscape/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="maplandscape" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#maplandscape" class="anchor"></a>maplandscape</h1></div>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>A package that provides functions for building <a href="https://shiny.rstudio.com">Shiny</a> dashboard applications to explore and visualise spatial layers in GeoPackages.</p>
<p>A pre-built <a href="https://shiny.rstudio.com">Shiny</a> is provided with this package which uses these functions and provides tools for:</p>
<ul>
<li>Syncing data stored in multiple GeoPackages.</li>
<li>Exploring GeoPackage layers in interactive tables, web maps, and charts.</li>
<li>Options for customising and styling charts and web maps.</li>
<li>Combining layers using spatial and non-spatial joins.</li>
<li>Generating summary tables through group-by and summarise operations.</li>
<li>Generating new layers and add new columns to existing layers.</li>
<li>Authenticated access to GeoPackages stored in Google Cloud Storage.</li>
<li>Admin mode for data cleaning and editing geometries and attribute values.</li>
</ul>
<p>This package was developed as part of the <a href="https://livelihoods-and-landscapes.com">Livelihoods and Landscapes</a> project which is developing tools and approaches to map diverse agricultural landscapes. The initial motivation for developing the package and Shiny application was to provide analysts with tools to analyse and visualise geospatial data collected ‘in the field’ using the <a href="https://qfield.org">QField</a> mobile GIS application.</p>
</div>
<div id="use" class="section level2">
<h2 class="hasAnchor">
<a href="#use" class="anchor"></a>Use</h2>
<p>The vignettes provide a range of tutorials for exploring and analysing data in GeoPackages using the maplandscape app.</p>
<p>The figure below provides an overview of the UI for the maplandscape app provided with this package.</p>
<p><img src="reference/figures/ui-overview.png" width="100%" style="display: block; margin: auto;"></p>
<div id="local-r-package" class="section level3">
<h3 class="hasAnchor">
<a href="#local-r-package" class="anchor"></a>Local R Package</h3>
<p>Install as an R package:</p>
<pre><code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages("devtools")
devtools::install_github("livelihoods-and-landscapes/maplandscape")</a></code></pre>
<p>Build and customise your own Shiny application using functions provided by maplandscape or launch a pre-built application:</p>
<pre><code>dir &lt;- system.file("app", package = "maplandscape")
setwd(dir)
library(maplandscape)
shiny::shinyAppDir(".")</code></pre>
<p>The will launch a pre-built Shiny application to explore data in GeoPackages from the <code>inst/app</code> sub-directory of the package.</p>
</div>
<div id="shinyappsio" class="section level3">
<h3 class="hasAnchor">
<a href="#shinyappsio" class="anchor"></a>shinyapps.io</h3>
<p>RStudio offers a free-tier hosting service for Shiny apps. Sign up at <a href="https://www.shinyapps.io">shinyapps.io</a>.</p>
<p>Follow the above commands to launch maplandscape (or your custom Shiny application). In the top-right of the application window you will see a <em>Publish</em> button, click this button and follow the prompts to deploy the application to <a href="https://www.shinyapps.io">shinyapps.io</a>.</p>
<p><img src="reference/figures/shiny-publish.png" width="40%" style="display: block; margin: auto;"></p>
<p>RStudio provide a detailed tutorial for deploying apps to shinyapps.io <a href="https://shiny.rstudio.com/articles/shinyapps.html">here</a>.</p>
</div>
<div id="docker-and-host-in-the-cloud" class="section level3">
<h3 class="hasAnchor">
<a href="#docker-and-host-in-the-cloud" class="anchor"></a>Docker and host in the cloud</h3>
<p>Clone the maplandscape GitHub repo:</p>
<pre><code>git clone https://github.com/livelihoods-and-landscapes/maplandscape.git

cd maplandscape</code></pre>
<p>There is a sub-directory named <code>docker</code>. This contains a <code>Dockerfile</code> that lists instructions that are used to build a docker image.</p>
<pre><code>cd docker

docker build -t maplandscape .</code></pre>
<p>The image is based on the <code>rocker/shiny:latest</code> image which includes <a href="https://www.rstudio.com/products/shiny/shiny-server/?_ga=2.240850435.1437924050.1628840494-908324396.1627896044">Shiny Server</a> to host the maplandscape Shiny application. Shiny Server serves apps out of the <code>srv/shiny-server/</code> directory; building the docker image will install all the R packages required to run maplandscape, install the maplandscape package from github, and copy an <code>app.R</code> script into <code>srv/shiny-server/app</code> which contains the commands to launch maplandscape.</p>
<p>A customised <code>shiny-customised.config</code> file is used to set the <code>app_dir</code> to the app directory where Shiny Server will launch and serve the app from.</p>
<p>Launch the docker container:</p>
<pre><code>docker run -p 3838:3838 maplandscape</code></pre>
<p>You can find more information about <a href="https://www.rstudio.com/products/shiny/shiny-server/?_ga=2.240850435.1437924050.1628840494-908324396.1627896044">Shiny Server</a> <a href="https://shiny.rstudio.com/articles/shiny-server.html">here</a>, at its <a href="https://github.com/rstudio/shiny-server">GitHub repo</a>, and following this <a href="https://deanattali.com/2015/05/09/setup-rstudio-shiny-server-digital-ocean/">tutorial</a>.</p>
<p>Please see the vignette Deploy: Google Cloud for a tutorial demonstrating how to deploy a containerised Shiny application on Google Cloud Run.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/livelihoods-and-landscapes/maplandscape/">https://​github.com/​livelihoods-and-landscapes/​maplandscape/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>John Duncan <br><small class="roles"> Maintainer, author </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by John Duncan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
